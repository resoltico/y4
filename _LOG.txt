[2:23:18 AM] % go run cmd/quality_check/main.go check
Validating environment...
✓ Go version 1.24 matches requirement
✓ go.mod exists
✓ Module name matches project ('otsu-obliterator')
Ensuring tools are available...
✓ staticcheck is available
✓ govulncheck is available
Checking code formatting...
✓ All Go files formatted
Running core quality checks...
✗ go vet failed
✗ tests with race detection failed
✓ dependency management passed
✓ module verification passed
Running external tools...
✗ staticcheck found issues:
-: # otsu-obliterator
./processing_validation.go:9:6: ValidationError redeclared in this block
	./metrics_validation.go:348:6: other declaration of ValidationError
./processing_validation.go:20:6: validateMat redeclared in this block
	./metrics_validation.go:231:6: other declaration of validateMat
./processing_validation.go:24:6: validateMatDimensions redeclared in this block
	./metrics_validation.go:235:6: other declaration of validateMatDimensions
./processing_validation.go:28:6: validateImageMat redeclared in this block
	./metrics_validation.go:239:6: other declaration of validateImageMat
./processing_validation.go:32:6: validateOtsuParameters redeclared in this block
	./metrics_validation.go:243:6: other declaration of validateOtsuParameters
./processing_validation.go:137:6: validateProcessingInputs redeclared in this block
	./metrics_validation.go:359:6: other declaration of validateProcessingInputs
./processing_validation.go:154:6: validateProcessingResult redeclared in this block
	./metrics_validation.go:376:6: other declaration of validateProcessingResult
./processing_validation.go:172:6: validateImageDimensions redeclared in this block
	./metrics_validation.go:394:6: other declaration of validateImageDimensions
./processing_timeout_helpers.go:11:29: method ProcessingEngine.calculateTimeout already declared at ./processing_timeout_engine.go:11:29
./processing_timeout_helpers.go:33:29: method ProcessingEngine.processImageSafely already declared at ./processing_timeout_engine.go:33:29
./processing_timeout_helpers.go:33:29: too many errors (compile)
✗ Security vulnerabilities detected:
govulncheck: loading packages: 
There are errors with the provided package patterns:

/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/processing_validation.go:9:6: ValidationError redeclared in this block
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics_validation.go:348:6: 	other declaration of ValidationError
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/processing_validation.go:20:6: validateMat redeclared in this block
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics_validation.go:231:6: 	other declaration of validateMat
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/processing_validation.go:24:6: validateMatDimensions redeclared in this block
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics_validation.go:235:6: 	other declaration of validateMatDimensions
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/processing_validation.go:28:6: validateImageMat redeclared in this block
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics_validation.go:239:6: 	other declaration of validateImageMat
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/processing_validation.go:32:6: validateOtsuParameters redeclared in this block
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics_validation.go:243:6: 	other declaration of validateOtsuParameters
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/processing_validation.go:137:6: validateProcessingInputs redeclared in this block
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics_validation.go:359:6: 	other declaration of validateProcessingInputs
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/processing_validation.go:154:6: validateProcessingResult redeclared in this block
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics_validation.go:376:6: 	other declaration of validateProcessingResult
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/processing_validation.go:172:6: validateImageDimensions redeclared in this block
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics_validation.go:394:6: 	other declaration of validateImageDimensions
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/processing_timeout_helpers.go:11:29: method ProcessingEngine.calculateTimeout already declared at /Users/erst/Library/CloudStorage/Dropbox/Websites/y4/processing_timeout_engine.go:11:29
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/processing_timeout_helpers.go:33:29: method ProcessingEngine.processImageSafely already declared at /Users/erst/Library/CloudStorage/Dropbox/Websites/y4/processing_timeout_engine.go:33:29
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/processing_validation.go:16:28: method ValidationError.Error already declared at /Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics_validation.go:355:28
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/processing_timeout.go:37:11: undefined: BinaryImageMetrics
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics.go:9:61: undefined: BinaryImageMetrics
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics_drd.go:9:10: undefined: BinaryImageMetrics
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics_drd.go:66:10: undefined: BinaryImageMetrics
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics_drd.go:89:10: undefined: BinaryImageMetrics
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics_drd.go:122:10: undefined: BinaryImageMetrics
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics_mpm.go:10:10: undefined: BinaryImageMetrics
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics_mpm.go:90:10: undefined: BinaryImageMetrics
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics_mpm.go:133:10: undefined: BinaryImageMetrics
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics_mpm.go:144:10: undefined: BinaryImageMetrics
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics_skeleton.go:9:10: undefined: BinaryImageMetrics
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics_skeleton.go:51:10: undefined: BinaryImageMetrics
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics_validation.go:193:34: undefined: BinaryImageMetrics
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics_validation.go:376:59: undefined: BinaryImageMetrics
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/processing_engine.go:85:80: undefined: BinaryImageMetrics
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/processing_timeout.go:41:114: undefined: BinaryImageMetrics
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/processing_timeout.go:41:156: undefined: BinaryImageMetrics
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/processing_timeout.go:78:112: undefined: BinaryImageMetrics
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/processing_timeout_engine.go:33:107: undefined: BinaryImageMetrics
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/processing_timeout_helpers.go:33:107: undefined: BinaryImageMetrics
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/processing_validation.go:154:59: undefined: BinaryImageMetrics
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/ui_toolbar_metrics.go:5:39: undefined: BinaryImageMetrics
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/ui_toolbar_metrics.go:32:92: undefined: BinaryImageMetrics
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics.go:29:14: undefined: BinaryImageMetrics
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics_operations.go:34:42: cannot use float64(threshold) (value of type float64) as float32 value in argument to gocv.Threshold
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics_operations.go:34:97: invalid operation: err != nil (mismatched types float32 and untyped nil)
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics_validation.go:106:31: assignment mismatch: 5 variables but gocv.MinMaxLoc returns 4 values
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/metrics_validation.go:148:82: invalid operation: err != nil (mismatched types float32 and untyped nil)
/Users/erst/Library/CloudStorage/Dropbox/Websites/y4/processing_timeout.go:94:86: undefined: BinaryImageMetrics

For details on package patterns, see https://pkg.go.dev/cmd/go#hdr-Package_lists_and_patterns.

Verifying build...
✗ Build failed

==================================
Quality Check Summary
==================================
Passed: 8
Failed: 5

5 quality checks failed
exit status 1
[2:23:47 AM] % 